<div class="filter-panel">
    <bryntum-button (onClick)="sortEventsFirst()" text="Remonter les résa"></bryntum-button>
    <bryntum-button [toggleable]=true [pressed]=true (onToggle)="toggleUsernames();refreshSchedulerEvents();sortEventsFirst()" text="Mes résa"></bryntum-button>
    <bryntum-button [toggleable]=true [pressed]=false (onToggle)="toggleToValidateOnly();refreshSchedulerEvents();sortEventsFirst()" text="A valider"></bryntum-button>
  <span id="comboFiltre"></span>
</div>
<div class="app-container">
    <div class="scheduler-container" id="scheduler"></div>
    <div *ngIf="selectedEvent" id="rightColumn" class="reservation-details">
       <ng-container *ngIf="!editMode">
           <h1 >Détails réservation</h1>
           <div class="orange-separator"></div>
           <p class="event-date">Du {{selectedEvent.startDate | date:'dd/MM/yyyy'}} - {{selectedEvent.startDate | date:'HH:mm'}}<br>
               au {{selectedEvent.endDate | date:'dd/MM/yyyy'}} - {{selectedEvent.endDate | date:'HH:mm'}}
           </p>
           <p class="event-materiel">{{selectedEvent.materiel}}</p>
           <p class="align-left user-name">Réservation pour {{ selectedEvent.name }}<br>06.00.00.00.00</p>
           <p class="event-reservation-date align-left">
               Reservation faite le:<br> {{selectedEvent.dateReservation | date:'dd/MM/yyyy'}} à {{selectedEvent.dateReservation | date:'HH:mm'}}
           </p>
           <p class="align-left">Volume de travail:<br>{{selectedEvent.quantite}} {{selectedEvent.unite}}</p>
           <p class="align-left">Responsable:<br>Alex<br>06.00.00.00.00</p>
           <p class="align-left">Dernière réservation par:<br>Léo </p>
           <p class="align-left">Article:<br>{{ selectedEvent.article }}</p>
           <p class="align-left">Commentaire:<br>{{selectedEvent.commentaire}}</p>
           <div *ngIf="!filters.toValidateOnly" class="btn-container">
               <bryntum-button (onClick)="editEvent(selectedEvent)" text="Modifier"></bryntum-button>
               <bryntum-button (onClick)="deleteEvent(selectedEvent)" text="Supprimer" [color]="'b-red'"></bryntum-button>
           </div>
           <div *ngIf="filters.toValidateOnly" class="btn-container">
               <bryntum-button (onClick)="validateEvent()" text="Valider" [color]="'b-green'"></bryntum-button>
               <bryntum-button (onClick)="refuseEvent()" text="Refuser" [color]="'b-red'"></bryntum-button>
           </div>
       </ng-container>
        <ng-container *ngIf="editMode">
            <h1 class="form-title">Editer la réservation</h1>
            <div class="orange-separator form-separator"></div>
            <span class="align-left">Début:</span>
            <bryntum-date-time-field  id="startDate" name="startDate" [value]="selectedEvent.startDate" (onChange)="onDateChange($event)" class="b-align-start"></bryntum-date-time-field><br>
            <span class="align-left">Fin:</span>
            <bryntum-date-time-field id="endDate" name="endDate" [value]="selectedEvent.endDate" (onChange)="onDateChange($event)" class="b-align-start"></bryntum-date-time-field><br>
          <span class="align-left">Matériel:</span>
          <bryntum-combo [items]="resources" [width]=355 displayField="name" valueField="id" (onChange)="onResourceChange($event)" [value]="selectedEvent.resource" [multiSelect]=false></bryntum-combo>
          <span class="align-left">Article:</span>
          <bryntum-combo [items]="['article 1', 'article 2', 'article 3']" (onChange)="onArticleChange($event)" [width]=355 [multiSelect]=false></bryntum-combo>
          <span class="align-left">Quantité:</span>
          <span><bryntum-number-field [min]="0" [value]="selectedEvent.quantite" (onChange)="onQuantiteChange($event)"></bryntum-number-field><bryntum-combo [items]="['Ha', 'He']" (onChange)="onUniteChange($event)" [value]="selectedEvent.unite" [multiSelect]=false></bryntum-combo></span>
          <span class="align-left">Commentaire:</span>
          <span><bryntum-text-area-field [value]="selectedEvent.commentaire" (onChange)="onCommentaireChange($event)"></bryntum-text-area-field></span>
          <bryntum-button (onClick)="updateEvent()" text="Valider"></bryntum-button>
        </ng-container>
    </div>
</div>
