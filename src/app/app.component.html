<div class="wrapper">
    <div class="one"></div>
    <div class="two">
        <div id="comboFiltre"></div>
    </div>
    <div class="three filter-panel">
            <bryntum-button class="custom-button" (onClick)="sortEventsFirst()" [icon]="'b-fa b-fa-chevron-up'"></bryntum-button>
            <bryntum-button class="custom-button" (onClick)="handleLeftButtonClick()" [icon]="'b-fa b-fa-chevron-left'" [width]="100"></bryntum-button>
            <bryntum-button class="custom-button" (onClick)="handleRightButtonClick()" [icon]="'b-fa b-fa-chevron-right'" [width]="100"></bryntum-button>
        <div class="slider">
            <bryntum-slide-toggle class="slider"
                    [checked]="utilisateur === 'Mes réservations'"
                    (onChange)="handleUser($event)"
                    [text]="'Mes réservations'"
            >
            </bryntum-slide-toggle>
        </div>

        <div class="slider">
            <bryntum-slide-toggle class="slider"
                [checked]="validation === 'A valider'"
                (onChange)="handleValidation($event)"
                [text]="'A valider'"
            >
            </bryntum-slide-toggle>
        </div>

        <div class="slider">
            <bryntum-slide-toggle
                [checked]="postResa==='sans post résa'"
                (onChange)="handlePostResa($event)"
                [text]="'Post à saisir'"
            ></bryntum-slide-toggle>
        </div>

<!--            <div>-->
<!--                <div class="filter-label">POST RESERVATION: </div>-->
<!--                <bryntum-button-group-->
<!--                        [toggleGroup]="true"-->
<!--                        [items]="[-->
<!--                    {text: 'Toutes', pressed: postResa === 'Toutes', onToggle: handlePostResa},-->
<!--                    {text: 'avec post résa', pressed: postResa === 'avec post résa', onToggle: handlePostResa, disabled: validation==='A valider' || validation==='Refusée'},-->
<!--                    {text: 'sans post résa', pressed: postResa === 'sans post résa', onToggle: handlePostResa},-->
<!--                ]"-->
<!--                >-->
<!--                </bryntum-button-group>-->
<!--            </div>-->
            <div>
            </div>
    </div>
    <div class="four">
        <div class="scheduler-container" id="scheduler"></div>
    </div>
    <div class="five item">
        <div *ngIf="selectedEvent" id="rightColumn" class="reservation-details">
        <ng-container *ngIf="!editMode">
            <h1 >Détails réservation</h1>
            <div class="orange-separator"></div>
            <p class="event-date">Du {{selectedEvent.startDate | date:'dd/MM/yyyy'}} - {{selectedEvent.startDate | date:'HH:mm'}}<br>
                au {{selectedEvent.endDate | date:'dd/MM/yyyy'}} - {{selectedEvent.endDate | date:'HH:mm'}}
            </p>
            <p class="event-materiel">{{selectedEvent.materiel}}</p>
            <p class="align-left user-name">Réservation pour {{ selectedEvent.name }}<br>06.00.00.00.00</p>
            <p class="event-reservation-date align-left">
                Reservation faite le:<br> {{selectedEvent.dateReservation | date:'dd/MM/yyyy'}} à {{selectedEvent.dateReservation | date:'HH:mm'}}
            </p>
            <p class="align-left">Volume de travail:<br>{{selectedEvent.quantite}} {{selectedEvent.unite}}</p>
            <p class="align-left">Responsable:<br>Alex<br>06.00.00.00.00</p>
            <p class="align-left">Dernière réservation par:<br>Léo </p>
            <p class="align-left">Article:<br>{{ selectedEvent.article }}</p>
            <p class="align-left">Commentaire:<br>{{selectedEvent.commentaire}}</p>
            <div *ngIf="validation!=='A valider'" class="btn-container">
                <bryntum-button (onClick)="editEvent(selectedEvent)" text="Modifier"></bryntum-button>
                <bryntum-button (onClick)="deleteEvent(selectedEvent)" text="Supprimer" [color]="'b-red'"></bryntum-button>
            </div>
            <div *ngIf="validation==='A valider'" class="btn-container">
                <bryntum-button (onClick)="validateEvent()" text="Valider" [color]="'b-green'"></bryntum-button>
                <bryntum-button (onClick)="refuseEvent()" text="Refuser" [color]="'b-red'"></bryntum-button>
            </div>
        </ng-container>
        <ng-container *ngIf="editMode">
            <h1 class="form-title">Editer la réservation</h1>
            <div class="orange-separator form-separator"></div>
            <span class="align-left">Début:</span>
            <bryntum-date-time-field  id="startDate" name="startDate" [value]="selectedEvent.startDate" (onChange)="onDateChange($event)" class="b-align-start"></bryntum-date-time-field><br>
            <span class="align-left">Fin:</span>
            <bryntum-date-time-field id="endDate" name="endDate" [value]="selectedEvent.endDate" (onChange)="onDateChange($event)" class="b-align-start"></bryntum-date-time-field><br>
            <span class="align-left">Matériel:</span>
            <bryntum-combo [items]="resources" [width]=325 displayField="name" valueField="id" (onChange)="onResourceChange($event)" [value]="selectedEvent.resource" [multiSelect]=false></bryntum-combo>
            <span class="align-left">Article:</span>
            <bryntum-combo [items]="['article 1', 'article 2', 'article 3']" (onChange)="onArticleChange($event)" [width]=325 [multiSelect]=false></bryntum-combo>
            <span class="align-left">Quantité:</span>
            <span><bryntum-number-field [min]="0" [value]="selectedEvent.quantite" (onChange)="onQuantiteChange($event)"></bryntum-number-field><bryntum-combo [items]="['Ha', 'He']" (onChange)="onUniteChange($event)" [value]="selectedEvent.unite" [multiSelect]=false></bryntum-combo></span>
            <span class="align-left">Commentaire:</span>
            <span><bryntum-text-area-field [value]="selectedEvent.commentaire" [width]=325 (onChange)="onCommentaireChange($event)"></bryntum-text-area-field></span>
            <bryntum-button (onClick)="updateEvent()" text="Valider" class="validate-button"></bryntum-button>
        </ng-container>
    </div>
    </div>
</div>
