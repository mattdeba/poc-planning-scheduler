<div class="buttons">
  <app-dropdown [options]="rawResources" (selectionChange)="filterSelection($event)"></app-dropdown>
  <button class="btn" (click)="prev()">prec.</button>
  <button class="btn" (click)="next()">suiv.</button>
  <button (click)="showEdition=true" class="btn" >Réserver</button>
</div>
<div class="filterResource">
</div>
<div class="scheduler">
  <div class="header" [ngStyle]="getGridTemplateHeaderColumns()">
    <div class="resourceHeaderCell">
      <div class="resourceHeaderCellContent">MATÉRIEL</div>
    </div>
    <div class="dateHeaderCell" *ngFor="let date of displayedDates; let index = index" [ngStyle]="getDateHeaderStyle(index)">
      <div class="dateHeaderCellContent">{{date | date:'dd/MM'}}</div>
    </div>
  </div>
  <div *ngFor="let resource of resources" class="gridRow" [ngStyle]="getGridRowStyles(resource)">
    <div class="resourceNameCell" [ngStyle]="getResourceNameCellStyles(resource)">{{resource.value}}</div>
    <div class="lineCell" *ngFor="let date of displayedDates; let index = index" [ngStyle]="getLineCellCoordinates(resource, index)"></div>
    <div *ngFor="let reservation of getReservationsByResourceWithCoordinates(resource.id)"
         [ngStyle]="getReservationCoordinates(reservation)"
         class="reservationCell"
    >
      <div class="reservationContentCell" [ngStyle]="getReservationContentBorders(reservation, resource.id)"
           (click)="showModal(reservation, $event)"
      >{{reservation.username}}</div>
    </div>
  </div>
</div>
<app-reservation-detail [reservation]="selectedReservation" [position]="modalPosition" (close)="closeModal()"></app-reservation-detail>
<app-reservation-edit *ngIf="showEdition" [resources]="resources" (closeModal)="showEdition=false" (submitReservation)="addReservation($event)"></app-reservation-edit>
